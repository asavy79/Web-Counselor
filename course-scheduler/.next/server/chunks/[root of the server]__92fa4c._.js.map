{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///app/src/auth.ts"],"sourcesContent":["\nimport NextAuth from \"next-auth\"\nimport Google from \"next-auth/providers/google\"\n\nexport const { handlers, signIn, signOut, auth } = NextAuth({\n    providers: [Google],\n    callbacks: {\n        async session({ session, token }) {\n            session.user.id = token.sub as string;\n            return session;\n        },\n        async jwt({ token, user }) {\n            if (user) {\n                token.id = user.id;\n            }\n            return token;\n        },\n        async signIn({user, email, credentials}) {\n            console.log(\"User: \", user);\n            const response = await fetch(\"http://fastapi:8000/student\", {\n                method: \"POST\",\n                body: JSON.stringify({email: user.email, student_name: user.name}),\n                headers: {\"Content-Type\": \"application/json\"}\n            })\n            if(!response.ok){\n                console.log('issue finding or creating user');\n                return true;\n            }\n            const data = await response.json();\n            console.log(\"Data: \", data);\n            return true;\n        }\n    },\n})"],"names":[],"mappings":";;;;;;AACA;AACA;AADA;AACA;;;AAEO,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uJAAA,CAAA,UAAQ,AAAD,EAAE;IACxD,WAAW;QAAC,uJAAA,CAAA,UAAM;KAAC;IACnB,WAAW;QACP,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC5B,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,GAAG;YAC3B,OAAO;QACX;QACA,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACrB,IAAI,MAAM;gBACN,MAAM,EAAE,GAAG,KAAK,EAAE;YACtB;YACA,OAAO;QACX;QACA,MAAM,QAAO,EAAC,IAAI,EAAE,KAAK,EAAE,WAAW,EAAC;YACnC,QAAQ,GAAG,CAAC,UAAU;YACtB,MAAM,WAAW,MAAM,MAAM,+BAA+B;gBACxD,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;oBAAC,OAAO,KAAK,KAAK;oBAAE,cAAc,KAAK,IAAI;gBAAA;gBAChE,SAAS;oBAAC,gBAAgB;gBAAkB;YAChD;YACA,IAAG,CAAC,SAAS,EAAE,EAAC;gBACZ,QAAQ,GAAG,CAAC;gBACZ,OAAO;YACX;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,QAAQ,GAAG,CAAC,UAAU;YACtB,OAAO;QACX;IACJ;AACJ"}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/api/student_courses/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { auth } from \"@/auth\";\n\nexport async function POST(request: NextRequest) {\n    const data = await request.json();\n    const { courseId } = data;\n\n    const session = await auth();\n    const email = session?.user?.email;\n\n    if (!email) {\n        return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n    }\n\n    try {\n        const response = await fetch(\"http://fastapi:8000/courses\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ email, course_code: courseId, grade: \"100\" }),\n        });\n\n        if (!response.ok) {\n            return NextResponse.json({ error: \"Failed to add course\" }, { status: 500 });\n        }\n\n        const data = await response.json();\n        if (data.message == \"Course not added\") {\n            return NextResponse.json({ message: \"Course not added\" }, { status: 200 });\n        }\n\n        return NextResponse.json({ message: \"Course added successfully\" }, { status: 200 });\n\n    } catch (error) {\n        console.error(\"Error adding course:\", error);\n        return NextResponse.json({ error: \"Error adding course\" }, { status: 500 });\n    }\n}\n\nexport async function GET(request: NextRequest) {\n    const session = await auth();\n    const email = session?.user?.email;\n\n    if (!email) {\n        return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n    }\n\n    try {\n        const response = await fetch(`http://fastapi:8000/courses?email=${email}`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n\n        if (!response.ok) {\n            return NextResponse.json({ error: \"Failed to get student courses\" }, { status: 500 });\n        }\n\n        const data = await response.json();\n        console.log(data)\n        return NextResponse.json(data, { status: 200 });\n    } catch (error) {\n        console.error(\"Error fetching student courses:\", error);\n        return NextResponse.json({ error: \"Error fetching student courses\" }, { status: 500 });\n    }\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAoB;IAC3C,MAAM,OAAO,MAAM,QAAQ,IAAI;IAC/B,MAAM,EAAE,QAAQ,EAAE,GAAG;IAErB,MAAM,UAAU,MAAM,CAAA,GAAA,6GAAA,CAAA,OAAI,AAAD;IACzB,MAAM,QAAQ,SAAS,MAAM;IAE7B,IAAI,CAAC,OAAO;QACR,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAe,GAAG;YAAE,QAAQ;QAAI;IACtE;IAEA,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,+BAA+B;YACxD,QAAQ;YACR,SAAS;gBACL,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAO,aAAa;gBAAU,OAAO;YAAM;QACtE;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAuB,GAAG;gBAAE,QAAQ;YAAI;QAC9E;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,IAAI,KAAK,OAAO,IAAI,oBAAoB;YACpC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAmB,GAAG;gBAAE,QAAQ;YAAI;QAC5E;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAA4B,GAAG;YAAE,QAAQ;QAAI;IAErF,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAsB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACJ;AAEO,eAAe,IAAI,OAAoB;IAC1C,MAAM,UAAU,MAAM,CAAA,GAAA,6GAAA,CAAA,OAAI,AAAD;IACzB,MAAM,QAAQ,SAAS,MAAM;IAE7B,IAAI,CAAC,OAAO;QACR,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAe,GAAG;YAAE,QAAQ;QAAI;IACtE;IAEA,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,CAAC,kCAAkC,EAAE,OAAO,EAAE;YACvE,QAAQ;YACR,SAAS;gBACL,gBAAgB;YACpB;QACJ;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAgC,GAAG;gBAAE,QAAQ;YAAI;QACvF;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,QAAQ,GAAG,CAAC;QACZ,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,MAAM;YAAE,QAAQ;QAAI;IACjD,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,mCAAmC;QACjD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiC,GAAG;YAAE,QAAQ;QAAI;IACxF;AACJ"}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}